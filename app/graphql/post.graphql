# =========================
# MUTATIONS
# =========================

mutation CreatePost($input: CreatePostInput!) {
  createPost(input: $input) {
    success
    message
    data {
      ...PostFragment
    }
  }
}

mutation UpdatePost($id: String!, $input: UpdatePostInput!) {
  updatePost(id: $id, input: $input) {
    success
    message
    data {
      ...PostFragment
    }
  }
}

mutation IncrementPostViews($id: String!, $identifier: String!) {
  incrementViews(id: $id, identifier: $identifier) {
    success
    message
    data {
      id
      views
    }
  }
}

# =========================
# QUERIES
# =========================

query GetPublishedPosts($filters: PostFiltersInput!) {
  publishedPosts(filters: $filters) {
    success
    message
    data {
      ...PostFragment
    }
    meta {
      total
      page
      limit
      totalPages
      hasNext
      hasPrev
    }
  }
}

query GetPostBySlug($slug: String!) {
  postBySlug(slug: $slug) {
    success
    message
    data {
      ...PostFragment
    }
  }
}

query GetAllPosts($filters: PostFiltersInput) {
  posts(filters: $filters) {
    success
    message
    data {
      ...PostFragment
    }
    meta {
      total
      page
      limit
      totalPages
      hasNext
      hasPrev
    }
  }
}

mutation DeletePost($id: String!) {
  deletePost(id: $id) {
    success
    message
  }
}
